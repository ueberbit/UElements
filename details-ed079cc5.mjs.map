{"version":3,"file":"details-ed079cc5.mjs","sources":["../src/internals/event.ts","../node_modules/.pnpm/@lit+reactive-element@2.0.0-pre.0/node_modules/@lit/reactive-element/decorators/custom-element.js","../node_modules/.pnpm/@lit+reactive-element@2.0.0-pre.0/node_modules/@lit/reactive-element/decorators/property.js","../node_modules/.pnpm/@lit+reactive-element@2.0.0-pre.0/node_modules/@lit/reactive-element/decorators/base.js","../node_modules/.pnpm/@lit+reactive-element@2.0.0-pre.0/node_modules/@lit/reactive-element/decorators/query.js","../src/internals/watch.ts","../src/internals/UElement.ts","../src/custom-elements/details/details.ts"],"sourcesContent":["/**\n * @file Wait for Event from Shoelace\n * https://github.com/shoelace-style/shoelace/blob/next/src/internal/event.ts\n */\n\nexport function waitForEvent(el: HTMLElement, eventName: string, options?: AddEventListenerOptions) {\n  return new Promise<void>((resolve) => {\n    function done(event: Event) {\n      if (event.target === el) {\n        el.removeEventListener(eventName, done)\n        resolve()\n      }\n    }\n\n    el.addEventListener(eventName, done, options)\n  })\n}\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst e=e=>n=>\"function\"==typeof n?((e,n)=>(customElements.define(e,n),n))(e,n):((e,n)=>{const{kind:t,elements:s}=n;return{kind:t,elements:s,finisher(n){customElements.define(e,n)}}})(e,n);export{e as customElement};\n//# sourceMappingURL=custom-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst i=(i,e)=>\"method\"===e.kind&&e.descriptor&&!(\"value\"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,i)}}:{kind:\"field\",key:Symbol(),placement:\"own\",descriptor:{},originalKey:e.key,initializer(){\"function\"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,i)}},e=(i,e,n)=>{e.constructor.createProperty(n,i)};function n(n){return(t,o)=>void 0!==o?e(n,t,o):i(n,t)}export{n as property};\n//# sourceMappingURL=property.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst e=(e,t,o)=>{Object.defineProperty(t,o,e)},t=(e,t)=>({kind:\"method\",placement:\"prototype\",key:t.key,descriptor:e}),o=({finisher:e,descriptor:t})=>(o,n)=>{if(void 0===n){const n=o.originalKey??o.key,r=null!=t?{kind:\"method\",placement:\"prototype\",key:n,descriptor:t(o.key)}:{...o,key:n};return null!=e&&(r.finisher=function(t){e(t,n)}),r}{const r=o.constructor;void 0!==t&&Object.defineProperty(o,n,t(n)),e?.(r,n)}};export{o as decorateProperty,e as legacyPrototypeMethod,t as standardPrototypeMethod};\n//# sourceMappingURL=base.js.map\n","import{decorateProperty as t}from\"./base.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function r(r,n){return t({descriptor:t=>{const e={get(){return this.renderRoot?.querySelector(r)??null},enumerable:!0,configurable:!0};if(n){const t=Symbol();e.get=function(){return void 0===this[t]&&(this[t]=this.renderRoot?.querySelector(r)??null),this[t]}}return e}})}export{r as query};\n//# sourceMappingURL=query.js.map\n","/**\n * @file Watch decorator from Shoelace\n * https://github.com/shoelace-style/shoelace/blob/next/src/internal/watch.ts\n */\n\nimport type { LitElement } from 'lit'\n\ntype UpdateHandler = (prev?: unknown, next?: unknown) => void\n\ntype NonUndefined<A> = A extends undefined ? never : A\n\ntype UpdateHandlerFunctionKeys<T extends object> = {\n  [K in keyof T]-?: NonUndefined<T[K]> extends UpdateHandler ? K : never;\n}[keyof T]\n\ninterface WatchOptions {\n  /**\n   * If true, will only start watching after the initial update/render\n   */\n  waitUntilFirstUpdate?: boolean\n}\n\n/**\n * Runs when observed properties change, e.g. @property or @state, but before the component updates. To wait for an\n * update to complete after a change occurs, use `await this.updateComplete` in the handler. To start watching after the\n * initial update/render, use `{ waitUntilFirstUpdate: true }` or `this.hasUpdated` in the handler.\n *\n * Usage:\n *\n * @watch('propName')\n * handlePropChange(oldValue, newValue) {\n *   ...\n * }\n */\nexport function watch(propertyName: string | string[], options?: WatchOptions) {\n  const resolvedOptions: Required<WatchOptions> = {\n    waitUntilFirstUpdate: false,\n    ...options,\n  }\n  return <ElemClass extends LitElement>(proto: ElemClass, decoratedFnName: UpdateHandlerFunctionKeys<ElemClass>) => {\n    // @ts-expect-error - update is a protected property\n    const { update } = proto\n    const watchedProperties = Array.isArray(propertyName) ? propertyName : [propertyName]\n\n    // @ts-expect-error - update is a protected property\n    proto.update = function (this: ElemClass, changedProps: Map<keyof ElemClass, ElemClass[keyof ElemClass]>) {\n      watchedProperties.forEach((property) => {\n        const key = property as keyof ElemClass\n        if (changedProps.has(key)) {\n          const oldValue = changedProps.get(key)\n          const newValue = this[key]\n\n          if (oldValue !== newValue) {\n            if (!resolvedOptions.waitUntilFirstUpdate || this.hasUpdated)\n              (this[decoratedFnName] as unknown as UpdateHandler)(oldValue, newValue)\n          }\n        }\n      })\n\n      update.call(this, changedProps)\n    }\n  }\n}\n","import type { CSSResult, CSSResultOrNative } from 'lit'\n\n/**\n * Sane default styles.\n */\nexport const baseStyles = css`\n  :host {\n    box-sizing: border-box;\n  }\n\n  :host *,\n  :host *::before,\n  :host *::after {\n    box-sizing: inherit;\n  }\n\n  [hidden] {\n    display: none !important;\n  }\n`\n\n/**\n * Adopt styles without overwriting existing stylesheets.\n */\nconst pushStyles = (\n  renderRoot: ShadowRoot,\n  styles: Array<CSSResultOrNative>,\n) => {\n  if (supportsAdoptingStyleSheets) {\n    (renderRoot as ShadowRoot).adoptedStyleSheets = [\n      ...renderRoot.adoptedStyleSheets,\n      ...styles.map(s =>\n        s instanceof CSSStyleSheet ? s : s.styleSheet!,\n      )]\n  }\n  else {\n    for (const s of styles) {\n      const style = document.createElement('style')\n\n      const nonce = (global as any).litNonce\n      if (nonce !== undefined)\n        style.setAttribute('nonce', nonce)\n\n      style.textContent = (s as CSSResult).cssText\n      renderRoot.appendChild(style)\n    }\n  }\n}\n\ntype GetCustomEventType<T> = T extends keyof GlobalEventHandlersEventMap\n  ? GlobalEventHandlersEventMap[T] extends CustomEvent<unknown>\n    ? GlobalEventHandlersEventMap[T]\n    : CustomEvent<unknown>\n  : CustomEvent<unknown>\n\n/**\n * UELEMENT\n */\nexport abstract class UElement extends LitElement {\n  constructor() {\n    super()\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback()\n    this.shadowRoot && pushStyles(\n      this.shadowRoot,\n      [baseStyles],\n    )\n  }\n\n  /**\n   * Emit a custom event with better defaults.\n   */\n  emit<T extends string & keyof GlobalEventHandlersEventMap>(\n    name: string | T,\n    options?: Record<string, any>) {\n    const event = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: false,\n      composed: true,\n      detail: {},\n      ...options,\n    })\n\n    this.dispatchEvent(event)\n\n    return event as GetCustomEventType<T>\n  }\n}\n\nexport default UElement\n","import styles from './details.css?inline'\n\n/**\n * Details show a brief summary and expand to show additional content..\n *\n * @slot - The details' main content.\n * @slot summary - The details' summary. Alternatively, you can use the `summary` attribute.\n *\n * @event ue-show - Emitted when the details opens.\n * @event ue-after-show - Emitted after the details opens and all animations are complete.\n * @event ue-hide - Emitted when the details closes.\n * @event ue-after-hide - Emitted after the details closes and all animations are complete.\n *\n * @csspart base - The component’s base wrapper.\n * @csspart summary - The header that wraps both the summary and the expand/collapse icon.\n * @csspart body - The component’s content wrapper.\n * @csspart content - The details content.\n */\n@customElement('ue-details')\nexport class UEDetails extends UElement {\n  @query('header')\n  header!: HTMLElement\n\n  /**\n   * If the details is open or closed.\n   */\n  @property({ type: Boolean, reflect: true }) open = false\n\n  /**\n   * Disables the details so it can’t be toggled.\n   */\n  @property({ type: Boolean, reflect: true }) disabled = false\n\n  /**\n   * The summary to show in the header. If you need to display HTML, use the summary slot instead.\n   */\n  @property() summary = ''\n\n  private abortController!: AbortController\n\n  static styles = unsafeCSS(styles)\n\n  @watch('open', { waitUntilFirstUpdate: true })\n  async handleOpenChange() {\n    this.abortController?.abort()\n    this.abortController = new AbortController()\n    if (this.open) {\n      this.emit('ue-show', { cancelable: true })\n      await waitForEvent(this.header, 'transitionend', {\n        signal: this.abortController.signal,\n      })\n      this.emit('ue-after-show')\n    }\n\n    else {\n      this.emit('ue-hide', { cancelable: true })\n      await waitForEvent(this.header, 'transitionend', {\n        signal: this.abortController.signal,\n      })\n      this.emit('ue-after-hide')\n    }\n  }\n\n  async show() {\n    this.open = true\n    this.header.focus()\n    return waitForEvent(this, 'ue-after-show')\n  }\n\n  async hide() {\n    this.open = false\n    return waitForEvent(this, 'ue-after-hide')\n  }\n\n  private _handleSummaryClick(e: MouseEvent) {\n    e.preventDefault()\n    if (!this.disabled)\n      this.open ? this.hide() : this.show()\n  }\n\n  private _handleSummaryKeyUp(e: KeyboardEvent) {\n    if (!this.disabled && ['Space', 'Enter'].includes(e.code)) {\n      e.preventDefault()\n      this.open ? this.hide() : this.show()\n    }\n  }\n\n  render() {\n    return html`\n      <div part=\"base\">\n        <header\n          aria-controls=\"content\"\n          aria-expanded=\"${this.open}\"\n          part=\"summary\"\n          tabindex=\"0\"\n          role=\"button\"\n          @click=\"${this._handleSummaryClick}\"\n          @keydown=\"${this._handleSummaryKeyUp}\"\n          >\n          <slot name=\"summary\">${this.summary}</slot>\n          <slot name=\"icon\"><i></i></slot>\n        </header>\n        <div part=\"body\">\n          <div part=\"content\" id=\"content\">\n            <slot></slot>\n          </div>\n        </div>\n      </div>\n    `\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'ue-details': UEDetails\n  }\n}\n"],"names":["waitForEvent","el","eventName","options","resolve","done","event","e","n","t","s","i","o","r","watch","propertyName","resolvedOptions","proto","decoratedFnName","update","watchedProperties","changedProps","property","key","oldValue","newValue","baseStyles","css","pushStyles","renderRoot","styles","supportsAdoptingStyleSheets","style","nonce","UElement","LitElement","name","UEDetails","html","unsafeCSS","__decorateClass","query","customElement"],"mappings":"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","x_google_ignoreList":[1,2,3,4]}